SELECT
	COUNT(CASE WHEN APPROVER_STATUS IS NULL THEN 1 END) AS approvalWait,
	COUNT(CASE WHEN APPROVER_STATUS = 1 AND APPROVAL_STATUS = 2 THEN 1 END) AS approvalProcess,
	COUNT(CASE WHEN APPROVER_STATUS IS NULL AND APPROVAL_STATUS = 1 THEN 1 END) AS approvalPending,
	COUNT(CASE WHEN APPROVER_STATUS = 3 THEN 1 END) AS approvalComplete
FROM APPROVAL a
	JOIN APPROVER b USING(APPROVAL_NO)
WHERE b.EMPLOYEE_NO = 1000;

INSERT INTO APPROVAL VALUES('2-2024-0724-'||LPAD(SEQ_APPROVAL.NEXTVAL,3,'0'), 1000, TO_DATE('2024-07-24'), TO_DATE('2024-10-24'), '휴가간다요', '휴가가니까 연락하지마', 2, 'A');

SELECT * FROM APPROVAL;
SELECT * FROM APPROVER;
SELECT * FROM APPROVAL a JOIN APPROVER b USING(APPROVAL_NO) WHERE b.EMPLOYEE_NO = 1000;

INSERT INTO APPROVER VALUES(SEQ_APPROVER.NEXTVAL, '2-2024-0724-003', 1001, 1, TO_DATE('2024-07-24'), NULL, 1);
INSERT INTO APPROVER VALUES(SEQ_APPROVER.NEXTVAL, '2-2024-0724-003', 1000, null, TO_DATE('2024-07-24'), NULL, 2);